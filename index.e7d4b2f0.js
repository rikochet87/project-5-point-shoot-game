function t(t,i,e,s){Object.defineProperty(t,i,{get:e,set:s,enumerable:!0,configurable:!0})}function i(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},h={},r=e.parcelRequire087c;null==r&&((r=function(t){if(t in s)return s[t].exports;if(t in h){var i=h[t];delete h[t];var e={id:t,exports:{}};return s[t]=e,i.call(e.exports,e,e.exports),e.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,i){h[t]=i},e.parcelRequire087c=r),r.register("27Lyk",(function(i,e){var s,h;t(i.exports,"register",(()=>s),(t=>s=t)),t(i.exports,"resolve",(()=>h),(t=>h=t));var r={};s=function(t){for(var i=Object.keys(t),e=0;e<i.length;e++)r[i[e]]=t[i[e]]},h=function(t){var i=r[t];if(null==i)throw new Error("Could not resolve bundle with id "+t);return i}})),r("27Lyk").register(JSON.parse('{"7GeUN":"index.e7d4b2f0.js","hfyJ9":"raven.5e1e12d9.png","jE0tl":"boom.054127e7.png"}'));var o;o=new URL(r("27Lyk").resolve("hfyJ9"),import.meta.url).toString();var a;a=new URL(r("27Lyk").resolve("jE0tl"),import.meta.url).toString();const n=document.getElementById("canvas1"),l=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;const d=document.getElementById("collisionCanvas"),c=d.getContext("2d");d.width=window.innerWidth,d.height=window.innerHeight;let m=0,f=!1;l.font="50px Impact";let u=0,g=0,p=[];function w(t){const i=new Image;return i.src=t,i}let y=w(i(o)),x=w(i(a));class F{constructor(){this.spriteWidth=271,this.spriteHeight=194,this.sizeModifier=.6*Math.random()+.4,this.width=this.spriteWidth*this.sizeModifier,this.height=this.spriteHeight*this.sizeModifier,this.x=n.width,this.y=Math.random()*(n.height-this.height),this.directionX=5*Math.random()+3,this.directionY=5*Math.random()-2.5,this.markedForDeletion=!1,this.frame=0,this.maxFrame=4,this.timeSinceFlap=0,this.flapInterval=50*Math.random()+50,this.randomColors=[Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())],this.color="rgb("+this.randomColors[0]+","+this.randomColors[1]+","+this.randomColors[2]+")",this.hasTrail=Math.random()>.5}update(t){if((this.y<0||this.y>n.height-this.height)&&(this.directionY=-1*this.directionY),this.x-=this.directionX,this.y+=this.directionY,this.x<0-this.width&&(this.markedForDeletion=!0),this.timeSinceFlap+=t,this.timeSinceFlap>this.flapInterval&&(this.frame>this.maxFrame?this.frame=0:this.frame++,this.timeSinceFlap=0,this.hasTrail))for(let t=0;t<5;t++)S.push(new b(this.x,this.y,this.width,this.color));this.x<0-this.width&&(f=!0)}draw(){c.fillStyle=this.color,c.fillRect(this.x,this.y,this.width,this.height),l.drawImage(y,this.frame*this.spriteWidth,0,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)}}let v=[];class M{constructor(t,i,e){this.image=x,this.spriteWidth=200,this.spriteHeight=179,this.size=e,this.x=t,this.y=i,this.frame=0,this.sound=new Audio,this.sound.src="../sound/boom.mp3",this.timeSinceLastFrame=0,this.frameInterval=250,this.markedForDeletion=!1}update(t){0===this.frame&&this.sound.play(),this.timeSinceLastFrame+=t,this.timeSinceLastFrame>this.frameInterval&&(this.frame++,this.timeSinceLastFrame=0,this.frame>5&&(this.markedForDeletion=!0))}draw(){l.drawImage(this.image,this.frame*this.spriteWidth,0,this.spriteWidth,this.spriteHeight,this.x,this.y-this.size/4,this.size,this.size)}}let S=[];class b{constructor(t,i,e,s){this.size=e,this.x=t+this.size/2,this.y=i+this.size/3,this.radius=Math.random()*this.size/10,this.maxRadius=20*Math.random()+35,this.markedForDeletion=!1,this.speedX=1*Math.random()+.5,this.color=s}update(){this.x+=this.speedX,this.radius+=.5,this.radius>this.maxRadius-5&&(this.markedForDeletion=!0)}draw(){l.save(),l.globalAlpha=1-this.radius/this.maxRadius,l.beginPath(),l.fillStyle=this.color,l.arc(this.x,this.y,this.radius,0,2*Math.PI),l.fill(),l.restore()}}addEventListener("click",(function(t){const i=c.getImageData(t.x,t.y,1,1);console.log(i);const e=i.data;p.forEach((t=>{t.randomColors[0]===e[0]&&t.randomColors[1]===e[1]&&t.randomColors[2]===e[2]&&(t.markedForDeletion=!0,m++,v.push(new M(t.x,t.y,t.width)),console.log(v))}))})),function t(i){l.clearRect(0,0,n.width,n.height),c.clearRect(0,0,n.width,n.height);let e=i-g;g=i,u+=e,u>500&&(p.push(new F),u=0,p.sort((function(t,i){return t.width-i.width}))),l.fillStyle="black",l.fillText("Score: "+m,50,75),l.fillStyle="white",l.fillText("Score: "+m,55,80),[...S,...p,...v].forEach((t=>t.update(e))),[...S,...p,...v].forEach((t=>t.draw())),p=p.filter((t=>!t.markedForDeletion)),v=v.filter((t=>!t.markedForDeletion)),S=S.filter((t=>!t.markedForDeletion)),f?(l.textAlign="center",l.fillStyle="black",l.fillText("GAME OVER, your score is "+m,n.width/2,n.height/2),l.fillStyle="white",l.fillText("GAME OVER, your score is "+m,n.width/2+5,n.height/2+5)):requestAnimationFrame(t)}(0);
//# sourceMappingURL=index.e7d4b2f0.js.map
